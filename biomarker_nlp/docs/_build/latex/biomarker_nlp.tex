%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsable pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{Biomarker\_NLP}
\date{Sep 04, 2021}
\release{}
\author{J.\@{} Lin, Y.\@{} He, S.\@{} Madhavan, C.\@{} Kim, S.\@{} M.\@{} Boca}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{biomarker\_nlp}
\label{\detokenize{modules:biomarker-nlp}}\label{\detokenize{modules::doc}}

\section{biomarker\_extraction module}
\label{\detokenize{biomarker_extraction:module-biomarker_extraction}}\label{\detokenize{biomarker_extraction:biomarker-extraction-module}}\label{\detokenize{biomarker_extraction::doc}}\index{module@\spxentry{module}!biomarker\_extraction@\spxentry{biomarker\_extraction}}\index{biomarker\_extraction@\spxentry{biomarker\_extraction}!module@\spxentry{module}}\index{disease\_content() (in module biomarker\_extraction)@\spxentry{disease\_content()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.disease_content}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{disease\_content}}}{\emph{\DUrole{n}{dailyMedURL}}, \emph{\DUrole{n}{disease}}, \emph{\DUrole{n}{header}\DUrole{o}{=}\DUrole{default_value}{False}}}{}
\sphinxAtStartPar
Extract subsection for a particular disease from a drug’s DailyMed ‘INDICATIONS AND USAGE’ section.

\sphinxAtStartPar
Parse the URL link using the lxml library. Locate the subsection that discusses the disease in the ‘INDICATIONS AND USAGE’ section from the HTML’s tree structure.
If the header argument is set to False, only the text content will be extracted. If the header argument is set to True, the whole subsection including the subheading and its text content will be extracted.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dailyMedURL}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a drug’s DailyMed information page and quoted (“”) as a string.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{disease}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of a disease whose text information will be extracted from the ‘INDICATIONS AND USAGE’ section.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{header}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Extract the subheading, by default False.
If True, the subheading will be extracted.
If False, only the text content will be extracted.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return the subsection text with or without the subheading.
If no associated subsection of the disease is found, return None.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
None or str

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example (without subheading)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=939b5d1f\PYGZhy{}9fb2\PYGZhy{}4499\PYGZhy{}80ef\PYGZhy{}0607aa6b114e}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{disease} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Cervical Cancer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{disease\PYGZus{}content}\PYG{p}{(}\PYG{n}{dailyMedURL} \PYG{o}{=} \PYG{n}{url}\PYG{p}{,} \PYG{n}{disease} \PYG{o}{=} \PYG{n}{disease}\PYG{p}{,} \PYG{n}{header} \PYG{o}{=} \PYG{k+kc}{False}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}\PYGZbs{}nAvastin, in combination with paclitaxel and cisplatin or paclitaxel and topotecan, is indicated for the treatment of patients with persistent, recurrent, or metastatic cervical cancer.\PYGZsq{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example (with subheading)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=939b5d1f\PYGZhy{}9fb2\PYGZhy{}4499\PYGZhy{}80ef\PYGZhy{}0607aa6b114e}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{disease} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Cervical Cancer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{disease\PYGZus{}content}\PYG{p}{(}\PYG{n}{dailyMedURL} \PYG{o}{=} \PYG{n}{url}\PYG{p}{,} \PYG{n}{disease} \PYG{o}{=} \PYG{n}{disease}\PYG{p}{,} \PYG{n}{header} \PYG{o}{=} \PYG{k+kc}{True}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}1.5    Persistent, Recurrent, or Metastatic Cervical Cancer\PYGZbs{}nAvastin, in combination with paclitaxel and cisplatin or paclitaxel and topotecan, is indicated for the treatment of patients with persistent, recurrent, or metastatic cervical cancer.\PYGZsq{}}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{drug\_brand\_label() (in module biomarker\_extraction)@\spxentry{drug\_brand\_label()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.drug_brand_label}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{drug\_brand\_label}}}{\emph{\DUrole{n}{dailyMedURL}}}{}
\sphinxAtStartPar
Extract drug label at the drug dailyMed label information page.

\sphinxAtStartPar
Parse the URL link using the lxml library. Locate and extract the drug label from the HTML’s tree structure.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dailyMedURL}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a drug DailyMed information page
and quoted (“”) as a string.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return drug label.
If no drug label is found, return a zero\sphinxhyphen{}length string (“”).

\item[{Return type}] \leavevmode
\sphinxAtStartPar
str

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=43a4d7f8\PYGZhy{}48ae\PYGZhy{}4a63\PYGZhy{}9108\PYGZhy{}2fa8e3ea9d9c\PYGZam{}audience=consumer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{drug\PYGZus{}brand\PYGZus{}label}\PYG{p}{(}\PYG{n}{dailyMedURL} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}SUTENT\PYGZhy{} sunitinib malate capsule\PYGZsq{}}
\end{sphinxVerbatim}


\sphinxstrong{See also:}
\nopagebreak


\sphinxAtStartPar
{\hyperref[\detokenize{biomarker_extraction:biomarker_extraction.ndc_code}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{ndc\_code}}}}}



\end{fulllineitems}

\index{drug\_search\_url() (in module biomarker\_extraction)@\spxentry{drug\_search\_url()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.drug_search_url}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{drug\_search\_url}}}{\emph{\DUrole{n}{url}}}{}
\sphinxAtStartPar
Extract the URL link about the search outcome of drug label information. DailyMed URL link (drug information vs multiple research results).

\sphinxAtStartPar
Extract the URL link of “FDA label information for this drug is available at DailyMed.” on the therapy’s NCI page. The URL link could be either a DailyMed link to drug label information or a DailyMed link showing multiple search results of the drug.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{url}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a targeted therapy’s NCI page.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return a DailyMed URL link in a list.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://www.cancer.gov/about\PYGZhy{}cancer/treatment/drugs/atezolizumab}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{drug\PYGZus{}search\PYGZus{}url}\PYG{p}{(}\PYG{n}{url} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=6fa682c9\PYGZhy{}a312\PYGZhy{}4932\PYGZhy{}9831\PYGZhy{}f286908660ee\PYGZam{}audience=consumer\PYGZsq{}]}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://www.cancer.gov/about\PYGZhy{}cancer/treatment/drugs/bevacizumab}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{drug\PYGZus{}search\PYGZus{}url}\PYG{p}{(}\PYG{n}{url} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}https://dailymed.nlm.nih.gov/dailymed/search.cfm?labeltype=all\PYGZam{}query=BEVACIZUMAB\PYGZam{}pagesize=20\PYGZam{}page=1\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{gene\_protein\_chemical() (in module biomarker\_extraction)@\spxentry{gene\_protein\_chemical()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.gene_protein_chemical}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{gene\_protein\_chemical}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{gene}\DUrole{o}{=}\DUrole{default_value}{1}}, \emph{\DUrole{n}{protein}\DUrole{o}{=}\DUrole{default_value}{1}}, \emph{\DUrole{n}{chemical}\DUrole{o}{=}\DUrole{default_value}{1}}}{}
\sphinxAtStartPar
Extract gene, protein, and drug labels from a string.

\sphinxAtStartPar
The function uses three pre\sphinxhyphen{}trained NER models from scispacy. Please see \sphinxurl{https://allenai.github.io/scispacy/}. We use en\_ner\_craft\_md model to recognize genes. Entities labeled with “GGP” in this model are categorized as genes. We use the en\_ner\_jnlpba\_md model to recognize proteins. Entities labeled with “PROTEIN” in this model are categorized as proteins. We use en\_ner\_bionlp13cg\_md model to recognize drugs. Entities labeled with “SIMPLE\_CHEMICAL” in this model are categorized as drugs.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A single string.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{gene}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Extract genes, by default 1.
0: do not extract genes. 1: extract genes.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{protein}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Extract proteins, by default 1.
0: do not extract proteins. 1: extract proteins.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{chemical}} (\sphinxstyleliteralemphasis{\sphinxupquote{int}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Extract simple chemicals, by default 1.
0: do not extract simple chemicals. 1: extract simple chemicals.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return a dictionary in which “gene”, “proteins”, or/and “chemical” are
the keys, lists of genes, proteins, or/and chemicals are the values.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
dic

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Install the necessary packages and pre\sphinxhyphen{}trained models

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{c+c1}{\PYGZsh{} If using Colab Notebook, use !pip}
\PYG{g+go}{\PYGZdl{} pip install scispacy}
\PYG{g+go}{\PYGZdl{} pip install \PYGZhy{}U spacy==2.3.1}
\PYG{g+go}{\PYGZdl{} pip install https://s3\PYGZhy{}us\PYGZhy{}west\PYGZhy{}2.amazonaws.com/ai2\PYGZhy{}s2\PYGZhy{}scispacy/releases/v0.3.0/en\PYGZus{}ner\PYGZus{}craft\PYGZus{}md\PYGZhy{}0.3.0.tar.gz}
\PYG{g+go}{\PYGZdl{} pip install https://s3\PYGZhy{}us\PYGZhy{}west\PYGZhy{}2.amazonaws.com/ai2\PYGZhy{}s2\PYGZhy{}scispacy/releases/v0.3.0/en\PYGZus{}ner\PYGZus{}jnlpba\PYGZus{}md\PYGZhy{}0.3.0.tar.gz}
\PYG{g+go}{\PYGZdl{} pip install https://s3\PYGZhy{}us\PYGZhy{}west\PYGZhy{}2.amazonaws.com/ai2\PYGZhy{}s2\PYGZhy{}scispacy/releases/v0.3.0/en\PYGZus{}ner\PYGZus{}bionlp13cg\PYGZus{}md\PYGZhy{}0.3.0.tar.gz}
\end{sphinxVerbatim}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example (Recognize entities)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Patients with EGFR or ALK genomic tumor aberrations should have disease progression on FDA\PYGZhy{}approved therapy for NSCLC harboring these aberrations prior to receiving TECENTRIQ.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{gene\PYGZus{}protein\PYGZus{}chemical}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{gene}\PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{protein} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{chemical} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{g+go}{\PYGZob{}\PYGZsq{}gene\PYGZsq{}: [\PYGZsq{}EGFR\PYGZsq{}, \PYGZsq{}ALK genomic\PYGZsq{}], \PYGZsq{}protein\PYGZsq{}: [\PYGZsq{}EGFR\PYGZsq{}, \PYGZsq{}TECENTRIQ\PYGZsq{}], \PYGZsq{}chemical\PYGZsq{}: []\PYGZcb{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{genProChe} \PYG{o}{=} \PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{gene\PYGZus{}protein\PYGZus{}chemical}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{gene}\PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{protein} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{chemical} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{g+go}{\PYGZsh{} get genes}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{genProChe}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gene}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}EGFR\PYGZsq{}, \PYGZsq{}ALK genomic\PYGZsq{}]}
\PYG{g+go}{\PYGZsh{} get proteins}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{genProChe}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{protein}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}EGFR\PYGZsq{}, \PYGZsq{}TECENTRIQ\PYGZsq{}]}
\PYG{g+go}{\PYGZsh{} Only detect genes}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{gene\PYGZus{}protein\PYGZus{}chemical}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{gene}\PYG{o}{=} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{protein} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{chemical} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{)}
\PYG{g+go}{\PYGZob{}\PYGZsq{}gene\PYGZsq{}: [\PYGZsq{}EGFR\PYGZsq{}, \PYGZsq{}ALK genomic\PYGZsq{}]\PYGZcb{}}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{is\_accelerated\_approval() (in module biomarker\_extraction)@\spxentry{is\_accelerated\_approval()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.is_accelerated_approval}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{is\_accelerated\_approval}}}{\emph{\DUrole{n}{text}}}{}
\sphinxAtStartPar
Detect if the drug is accelerated approval.

\sphinxAtStartPar
Use keyword matching to detect if the keyword “accelerated approval” appears in the sentence.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A string.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return True if “accelerated approval” is mentioned in the string, False otherwise.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
bool

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{This indication is approved under accelerated approval based on progression free survival.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{is\PYGZus{}accelerated\PYGZus{}approval}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{)}
\PYG{g+go}{True}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{is\_accelerated\_approval\_rate() (in module biomarker\_extraction)@\spxentry{is\_accelerated\_approval\_rate()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.is_accelerated_approval_rate}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{is\_accelerated\_approval\_rate}}}{\emph{\DUrole{n}{text}}}{}
\sphinxAtStartPar
Detect if the drug is accelerated approval based on response rate.

\sphinxAtStartPar
Use keyword matching to detect if the keywords “accelerated approval” and “response rate” appear in the sentence.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A string.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return True if “accelerated approval” and “response rate” are mentioned in the string, False otherwise.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
bool

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{This indication is approved under accelerated approval based on tumor response rate and durability of response.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{is\PYGZus{}accelerated\PYGZus{}approval\PYGZus{}rate}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{)}
\PYG{g+go}{True}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{is\_firstline() (in module biomarker\_extraction)@\spxentry{is\_firstline()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.is_firstline}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{is\_firstline}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{medicine}}, \emph{\DUrole{n}{disease}}}{}
\sphinxAtStartPar
Detect if first\sphinxhyphen{}line treatment is mentioned with a medicine in a sentence.

\sphinxAtStartPar
Use keyword matching to detect if the keywords “first\sphinxhyphen{}line treatment” or “first\sphinxhyphen{}or second\sphinxhyphen{}line treatment”, medicine name, and disease name all appear in the sentence.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A single sentence.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{medicine}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A medicine’s name.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return True if the medicine and first\sphinxhyphen{}line treatment are mentioned in the sentence, False otherwise.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
bool

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ, in combination with carboplatin and etoposide, is indicated for the first\PYGZhy{}line treatment of adult patients with extensive\PYGZhy{}stage small cell lung cancer (ES\PYGZhy{}SCLC).}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{medicine} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{disease} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{small cell lung cancer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{is\PYGZus{}firstline}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{medicine} \PYG{o}{=} \PYG{n}{medicine}\PYG{p}{,} \PYG{n}{disease} \PYG{o}{=} \PYG{n}{disease}\PYG{p}{)}
\PYG{g+go}{True}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{is\_metastatic() (in module biomarker\_extraction)@\spxentry{is\_metastatic()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.is_metastatic}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{is\_metastatic}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{disease}}}{}
\sphinxAtStartPar
Detect if the metastatic disease is mentioned.

\sphinxAtStartPar
Use keyword matching to detect if the combination of keywords “metastatic” or “unresectable” with the disease’s name appears in the sentence.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A string or sentence

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{disease}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A disease’s name

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return True if “metastatic” or “unresectable” and the disease are mentioned together, False otherwise.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
bool

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ, in combination with bevacizumab, is indicated for the treatment of patients with unresectable or metastatic hepatocellular carcinoma (HCC) who have not received prior systemic therapy.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{disease} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hepatocellular carcinoma}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{is\PYGZus{}metastatic}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{disease} \PYG{o}{=} \PYG{n}{disease}\PYG{p}{)}
\PYG{g+go}{True}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{ndc\_code() (in module biomarker\_extraction)@\spxentry{ndc\_code()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.ndc_code}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{ndc\_code}}}{\emph{\DUrole{n}{dailyMedURL}}}{}
\sphinxAtStartPar
Extract NDC code(s) from the drug dailyMed label information page.

\sphinxAtStartPar
Parse the URL link using the lxml library. Locate and extract the NDC codes from the HTML’s tree structure. It returns all the codes found in a string. The codes are separated by commas.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dailyMedURL}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a drug DailyMed information page
and quoted (“”) as a string.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return NDC codes(s) in a string. If more than one code is found, codes are separated by commas.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
str

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=43a4d7f8\PYGZhy{}48ae\PYGZhy{}4a63\PYGZhy{}9108\PYGZhy{}2fa8e3ea9d9c\PYGZam{}audience=consumer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{ndc\PYGZus{}code}\PYG{p}{(}\PYG{n}{dailyMedURL} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}0069\PYGZhy{}0550\PYGZhy{}38, 0069\PYGZhy{}0770\PYGZhy{}38, 0069\PYGZhy{}0830\PYGZhy{}38, 0069\PYGZhy{}0980\PYGZhy{}38\PYGZsq{}}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{section\_content() (in module biomarker\_extraction)@\spxentry{section\_content()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.section_content}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{section\_content}}}{\emph{\DUrole{n}{dailyMedURL}}, \emph{\DUrole{n}{section}}}{}
\sphinxAtStartPar
Extract a whole section text content from the drug’s DailyMed information page excluding the section heading.

\sphinxAtStartPar
Parse the URL link using the lxml library. Locate the section using the section’s heading from the HTML’s tree structure. Extract the text content of the section excluding the heading.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dailyMedURL}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a drug DailyMed information page and quoted (“”) as a string.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{section}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The header of the section.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return section content. If no such a section is found, return None.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
None or str

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=43a4d7f8\PYGZhy{}48ae\PYGZhy{}4a63\PYGZhy{}9108\PYGZhy{}2fa8e3ea9d9c\PYGZam{}audience=consumer}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sectionHeader} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{INDICATIONS AND USAGE}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{section\PYGZus{}content}\PYG{p}{(}\PYG{n}{dailyMedURL} \PYG{o}{=} \PYG{n}{url}\PYG{p}{,} \PYG{n}{section} \PYG{o}{=} \PYG{n}{sectionHeader}\PYG{p}{)}
\PYG{g+go}{\PYGZsq{}1.1  Gastrointestinal Stromal Tumor}
\PYG{g+go}{SUTENT is indicated for the treatment of adult patients with gastrointestinal stromal tumor (GIST) after disease progression on or intolerance to imatinib mesylate.}
\PYG{g+go}{1.2   Advanced Renal Cell Carcinoma}
\PYG{g+go}{SUTENT is indicated for the treatment of adult patients with advanced renal cell carcinoma (RCC).}
\PYG{g+go}{1.3   Adjuvant Treatment of Renal Cell Carcinoma}
\PYG{g+go}{SUTENT is indicated for the adjuvant treatment of adult patients at high risk of recurrent RCC following nephrectomy.}
\PYG{g+go}{1.4   Advanced Pancreatic Neuroendocrine Tumors}
\PYG{g+go}{SUTENT is indicated for the treatment of progressive, well\PYGZhy{}differentiated pancreatic neuroendocrine tumors (pNET) in adult patients with unresectable locally advanced or metastatic disease.\PYGZsq{}}
\end{sphinxVerbatim}


\sphinxstrong{See also:}
\nopagebreak


\sphinxAtStartPar
{\hyperref[\detokenize{biomarker_extraction:biomarker_extraction.disease_content}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{disease\_content}}}}}



\end{fulllineitems}

\index{sent\_subtree() (in module biomarker\_extraction)@\spxentry{sent\_subtree()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.sent_subtree}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{sent\_subtree}}}{\emph{\DUrole{n}{text}}}{}
\sphinxAtStartPar
Extract the subtree of the patterns ‘in combination with’ and ‘used with’ based on dependency parsing.

\sphinxAtStartPar
The function uses pattern match to recognize two patterns (‘in combination with’ and ‘used with’) from a sentence. Once such a pattern is recognized, the sentence is parsed as a dependency tree by scispacy’s nlp\_bionlp13cg model which is based on Stanford Dependency Converter. The “combination” or “used” is used as a headword to extract its subtree.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} A single sentence.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return a list of subtree clauses in string.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Install the necessary packages and pre\sphinxhyphen{}trained models

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{c+c1}{\PYGZsh{} If using Colab Notebook, use !pip}
\PYG{g+go}{\PYGZdl{} pip install scispacy}
\PYG{g+go}{\PYGZdl{} pip install \PYGZhy{}U spacy==2.3.1}
\PYG{g+go}{\PYGZdl{} pip install https://s3\PYGZhy{}us\PYGZhy{}west\PYGZhy{}2.amazonaws.com/ai2\PYGZhy{}s2\PYGZhy{}scispacy/releases/v0.3.0/en\PYGZus{}ner\PYGZus{}bionlp13cg\PYGZus{}md\PYGZhy{}0.3.0.tar.gz}
\end{sphinxVerbatim}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example (extract the subtree)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ, in combination with cobimetinib and vemurafenib, is indicated for the treatment of patients with BRAF V600 mutation\PYGZhy{}positive unresectable or metastatic melanoma.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{sent\PYGZus{}subtree}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}in combination with cobimetinib and vemurafenib\PYGZsq{}]}
\end{sphinxVerbatim}

\sphinxAtStartPar
Another example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BAVENCIO in combination with axitinib is indicated for the first\PYGZhy{}line treatment of patients with advanced renal cell carcinoma (RCC).}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{sent\PYGZus{}subtree}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}in combination with axitinib\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{targeted\_therapy\_name() (in module biomarker\_extraction)@\spxentry{targeted\_therapy\_name()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.targeted_therapy_name}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{targeted\_therapy\_name}}}{\emph{\DUrole{n}{url}}}{}
\sphinxAtStartPar
Extract targeted therapy’s name on its NCI page.

\sphinxAtStartPar
Use the lxml library to parse the URL link and xpath to find the therapy’s name from the parsed tree structure.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{url}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a targeted therapy’s NCI page.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return the name of the targeted therapy appearing on its NCI page in a list.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://www.cancer.gov/about\PYGZhy{}cancer/treatment/drugs/atezolizumab}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{targeted\PYGZus{}therapy\PYGZus{}name}\PYG{p}{(}\PYG{n}{url} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}Atezolizumab\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{targeted\_therapy\_url() (in module biomarker\_extraction)@\spxentry{targeted\_therapy\_url()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.targeted_therapy_url}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{targeted\_therapy\_url}}}{\emph{\DUrole{n}{url}}}{}
\sphinxAtStartPar
Extract the targeted therapies’ link from NCI page.

\sphinxAtStartPar
Use the lxml library to parse the URL link and xpath to find the therapy’s link in the “what\sphinxhyphen{}targeted\sphinxhyphen{}therapies\sphinxhyphen{}have\sphinxhyphen{}been\sphinxhyphen{}approved\sphinxhyphen{}for\sphinxhyphen{}specific\sphinxhyphen{}types\sphinxhyphen{}of\sphinxhyphen{}cancer” section.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{url}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a targeted therapies fact sheet.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return a list of targeted therapies’ URL links.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url\PYGZus{}nci} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://www.cancer.gov/about\PYGZhy{}cancer/treatment/types/targeted\PYGZhy{}therapies/targeted\PYGZhy{}therapies\PYGZhy{}fact\PYGZhy{}sheet}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{targeted\PYGZus{}therapy\PYGZus{}url}\PYG{p}{(}\PYG{n}{url} \PYG{o}{=} \PYG{n}{url\PYGZus{}nci}\PYG{p}{)}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{l+m+mi}{5}\PYG{p}{]}
\PYG{g+go}{[\PYGZsq{}/about\PYGZhy{}cancer/treatment/drugs/atezolizumab\PYGZsq{}, \PYGZsq{}/about\PYGZhy{}cancer/treatment/drugs/nivolumab\PYGZsq{}, \PYGZsq{}/about\PYGZhy{}cancer/treatment/drugs/avelumab\PYGZsq{}, \PYGZsq{}/about\PYGZhy{}cancer/treatment/drugs/pembrolizumab\PYGZsq{}, \PYGZsq{}/about\PYGZhy{}cancer/treatment/drugs/erdafitinib\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{therapy\_disease() (in module biomarker\_extraction)@\spxentry{therapy\_disease()}\spxextra{in module biomarker\_extraction}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{biomarker_extraction:biomarker_extraction.therapy_disease}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{biomarker\_extraction.}}\sphinxbfcode{\sphinxupquote{therapy\_disease}}}{\emph{\DUrole{n}{url}}}{}
\sphinxAtStartPar
Extract the associated diseases (in bold text) on the therapy’s NCI page.

\sphinxAtStartPar
Extract the associated diseases in bold text on the therapy’s NCI page through parsing the URL link. Remove punctuations around the text if there are any.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{url}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} An URL link to a targeted therapy’s NCI page.

\item[{Returns}] \leavevmode
\sphinxAtStartPar
Return a list of disease’s name.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}
\subsubsection*{Examples}

\sphinxAtStartPar
Import the module

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{biomarker\PYGZus{}extraction}
\end{sphinxVerbatim}

\sphinxAtStartPar
Example

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{url} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{https://www.cancer.gov/about\PYGZhy{}cancer/treatment/drugs/atezolizumab}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{biomarker\PYGZus{}extraction}\PYG{o}{.}\PYG{n}{therapy\PYGZus{}disease}\PYG{p}{(}\PYG{n}{url} \PYG{o}{=} \PYG{n}{url}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}Breast cancer\PYGZsq{}, \PYGZsq{}Urothelial carcinoma\PYGZsq{}, \PYGZsq{}Non\PYGZhy{}small cell lung cancer\PYGZsq{}, \PYGZsq{}Hepatocellular carcinoma\PYGZsq{}, \PYGZsq{}Melanoma\PYGZsq{}, \PYGZsq{}Small cell lung cancer\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}



\section{negation\_cue\_scope module}
\label{\detokenize{negation_cue_scope:module-negation_cue_scope}}\label{\detokenize{negation_cue_scope:negation-cue-scope-module}}\label{\detokenize{negation_cue_scope::doc}}\index{module@\spxentry{module}!negation\_cue\_scope@\spxentry{negation\_cue\_scope}}\index{negation\_cue\_scope@\spxentry{negation\_cue\_scope}!module@\spxentry{module}}\index{negation\_detect() (in module negation\_cue\_scope)@\spxentry{negation\_detect()}\spxextra{in module negation\_cue\_scope}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{negation_cue_scope:negation_cue_scope.negation_detect}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{negation\_cue\_scope.}}\sphinxbfcode{\sphinxupquote{negation\_detect}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{modelCue}}}{}
\sphinxAtStartPar
Detect if a sentence contains any negation cues.

\sphinxAtStartPar
This function predicts if a sentence contains any negation words by using a pre\sphinxhyphen{}trained negation detection model that was pre\sphinxhyphen{}trained through Aditya and Suraj’s (2020) NegBERT transfer learning program.
Please see the reference link: \sphinxurl{https://github.com/adityak6798/Transformers-For-Negation-and-Speculation}. The model was trained using ‘bioscope\_abstracts’ and ‘bioscope\_full\_papers’ corpora.
It was upload to a cloud repository and was freely available.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} a single sentence.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{modelCue}} (\sphinxstyleliteralemphasis{\sphinxupquote{torch model}}) \textendash{} pre\sphinxhyphen{}trained negation cue detection model

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
True if any negation cues are detected.
False if no negation cues are detected.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
bool

\end{description}\end{quote}


\sphinxstrong{See also:}
\nopagebreak


\sphinxAtStartPar
{\hyperref[\detokenize{negation_cue_scope:negation_cue_scope.negation_scope}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{negation\_scope}}}}}


\subsubsection*{Notes}

\sphinxAtStartPar
NVIDIA GPU will be required. Make sure your machine brings NVIDIA GPU or set GPU as Hardware accelerator if using Colab notebook.
\subsubsection*{Examples}

\sphinxAtStartPar
Install the necessary packages, and make sure to turn the GPU Hardware accelerator on.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZgt{}\PYGZgt{}\PYGZgt{} If using Colab Notebook, use !pip instead pip.
\PYGZdl{} pip install biomarker\PYGZus{}nlp
\PYGZdl{} pip install transformers
\PYGZdl{} pip install knockknock==0.1.7
\PYGZdl{} pip install sentencepiece
\end{sphinxVerbatim}

\sphinxAtStartPar
Load the necessary packages and pre\sphinxhyphen{}trained model

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp}\PYG{n+nn}{.}\PYG{n+nn}{negation\PYGZus{}negbert} \PYG{k+kn}{import} \PYG{o}{*} \PYG{c+c1}{\PYGZsh{} This code MUST be run before loading the pre\PYGZhy{}trained negation models}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{torch}\PYG{o}{.}\PYG{n}{load}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/path/to/negation/cue/detection/model}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} path to the location where the model file is placed}
\end{sphinxVerbatim}

\sphinxAtStartPar
Examples (predict negation)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ is not indicated for use in combination with paclitaxel for the treatment of adult patients with unresectable locally advanced or metastatic TNBC.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}\PYG{o}{.}\PYG{n}{negation\PYGZus{}detect}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{modelCue}\PYG{p}{)}
\PYG{g+go}{True}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{KEYTRUDA is not recommended for treatment of patients with PMBCL who require urgent cytoreductive therapy.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}\PYG{o}{.}\PYG{n}{negation\PYGZus{}detect}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{modelCue}\PYG{p}{)}
\PYG{g+go}{True}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{KEYTRUDA is indicated for the treatment of adult patients with relapsed or refractory classical Hodgkin lymphoma (cHL).}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}\PYG{o}{.}\PYG{n}{negation\PYGZus{}detect}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{modelCue}\PYG{p}{)}
\PYG{g+go}{False}
\end{sphinxVerbatim}

\end{fulllineitems}

\index{negation\_scope() (in module negation\_cue\_scope)@\spxentry{negation\_scope()}\spxextra{in module negation\_cue\_scope}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{negation_cue_scope:negation_cue_scope.negation_scope}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{negation\_cue\_scope.}}\sphinxbfcode{\sphinxupquote{negation\_scope}}}{\emph{\DUrole{n}{text}}, \emph{\DUrole{n}{modelCue}}, \emph{\DUrole{n}{modelScope}}}{}
\sphinxAtStartPar
Extract the scope of negation in a sentence.

\sphinxAtStartPar
This function predicts the negation cues and their scope in a sentence by using two pre\sphinxhyphen{}trained negation models that were pre\sphinxhyphen{}trained through Aditya and Suraj’s (2020) NegBERT transfer learning program.
Please see the reference link: \sphinxurl{https://github.com/adityak6798/Transformers-For-Negation-and-Speculation}. The models were trained using ‘bioscope\_abstracts’ and ‘bioscope\_full\_papers’ corpora.
One of them is used to performed negation cue detection and negation scope resolution. Another one is used to performed negation scope resolution. They were upload to a cloud repository and were freely available.
This function predicts negation cues first through the negation cue detection model. If any negation cues were predicted, it predicts the scope of each negation cue, if there are more than one, through the negation scope resolution model.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{text}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} a single sentence.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{modelCue}} (\sphinxstyleliteralemphasis{\sphinxupquote{torch model}}) \textendash{} pre\sphinxhyphen{}trained negation cue prediction model

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{modelScopre}} (\sphinxstyleliteralemphasis{\sphinxupquote{torch model}}) \textendash{} pre\sphinxhyphen{}trained negation scope prediction model

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxAtStartPar
a list of negated clauses. Some sentences would contain more than one negation cue, in this case, all of their negated clauses will be extracted. If no negation is found, return an empty list.

\item[{Return type}] \leavevmode
\sphinxAtStartPar
list

\end{description}\end{quote}


\sphinxstrong{See also:}
\nopagebreak


\sphinxAtStartPar
{\hyperref[\detokenize{negation_cue_scope:negation_cue_scope.negation_detect}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{negation\_detect}}}}}


\subsubsection*{Notes}

\sphinxAtStartPar
The negation cue will not be extracted.
NVIDIA GPU will be required. Make sure your machine brings NVIDIA GPU or set GPU as Hardware accelerator if using Colab notebook.
\subsubsection*{Examples}

\sphinxAtStartPar
Install the necessary packages, and make sure to turn the GPU Hardware accelerator on.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZgt{}\PYGZgt{}\PYGZgt{} If using Colab Notebook, use !pip instead pip.
\PYGZdl{} pip install biomarker\PYGZus{}nlp
\PYGZdl{} pip install transformers
\PYGZdl{} pip install knockknock==0.1.7
\PYGZdl{} pip install sentencepiece
\end{sphinxVerbatim}

\sphinxAtStartPar
Load the necessary packages and pre\sphinxhyphen{}trained model

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp} \PYG{k+kn}{import} \PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{biomarker\PYGZus{}nlp}\PYG{n+nn}{.}\PYG{n+nn}{negation\PYGZus{}negbert} \PYG{k+kn}{import} \PYG{o}{*} \PYG{c+c1}{\PYGZsh{} This code MUST be run before loading the pre\PYGZhy{}trained negation models}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{torch}\PYG{o}{.}\PYG{n}{load}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/path/to/negation/cue/detection/model}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} path to the location where the model file is placed}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{modelScope} \PYG{o}{=} \PYG{n}{torch}\PYG{o}{.}\PYG{n}{load}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/path/to/negation/scope/detection/model}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} path to the location where the model file is placed}
\end{sphinxVerbatim}

\sphinxAtStartPar
Examples (predict negation scope)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{TECENTRIQ is not indicated for use in combination with paclitaxel for the treatment of adult patients with unresectable locally advanced or metastatic TNBC.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}\PYG{o}{.}\PYG{n}{negation\PYGZus{}scope}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{modelCue}\PYG{p}{,} \PYG{n}{modelScope} \PYG{o}{=} \PYG{n}{modelScope}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}TECENTRIQ is\PYGZsq{}, \PYGZsq{}indicated for use in combination with paclitaxel for\PYGZsq{}]}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{txt} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{KEYTRUDA is not recommended for treatment of patients with PMBCL who require urgent cytoreductive therapy.}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{negation\PYGZus{}cue\PYGZus{}scope}\PYG{o}{.}\PYG{n}{negation\PYGZus{}scope}\PYG{p}{(}\PYG{n}{text} \PYG{o}{=} \PYG{n}{txt}\PYG{p}{,} \PYG{n}{modelCue} \PYG{o}{=} \PYG{n}{modelCue}\PYG{p}{,} \PYG{n}{modelScope} \PYG{o}{=} \PYG{n}{modelScope}\PYG{p}{)}
\PYG{g+go}{[\PYGZsq{}KEYTRUDA is\PYGZsq{}, \PYGZsq{}recommended for treatment of patients with PMBCL who\PYGZsq{}]}
\end{sphinxVerbatim}

\end{fulllineitems}



\section{negation\_negbert module}
\label{\detokenize{negation_negbert:module-negation_negbert}}\label{\detokenize{negation_negbert:negation-negbert-module}}\label{\detokenize{negation_negbert::doc}}\index{module@\spxentry{module}!negation\_negbert@\spxentry{negation\_negbert}}\index{negation\_negbert@\spxentry{negation\_negbert}!module@\spxentry{module}}
\sphinxAtStartPar
This is part of Aditya Khandelwal \& Suraj Sawant’s (2020) NegBERT program, it is necessary to run the negation cue detection (negCue) and negation scope resolution (negScope) models. For more information about the NegBERT program, please see \sphinxurl{https://github.com/adityak6798/Transformers-For-Negation-and-Speculation}.


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{b}
\item\relax\sphinxstyleindexentry{biomarker\_extraction}\sphinxstyleindexpageref{biomarker_extraction:\detokenize{module-biomarker_extraction}}
\indexspace
\bigletter{n}
\item\relax\sphinxstyleindexentry{negation\_cue\_scope}\sphinxstyleindexpageref{negation_cue_scope:\detokenize{module-negation_cue_scope}}
\item\relax\sphinxstyleindexentry{negation\_negbert}\sphinxstyleindexpageref{negation_negbert:\detokenize{module-negation_negbert}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}